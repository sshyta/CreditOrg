# CreditOrg
<img width="647" alt="Снимок экрана 2024-05-27 в 10 37 43" src="https://github.com/sshyta/CreditOrg/assets/86688897/8774abcf-e029-45a0-a27b-7818ffdbdc41">


Веб-приложение, разработанное с использованием Flask и SQLAlchemy, представляет собой систему управления данными для организации, занимающейся кредитами.

```
Создание базового класса
Base = sqlalchemy.orm.declarative_base()

Определение URI для базы данных
DATABASE_URI = 'postgresql://postgres:467912@localhost:5432/SSS'

Создание двигателя (engine)
engine = create_engine(DATABASE_URI)

Создание сессии (session) с использованием scoped_session
Session = scoped_session(sessionmaker(bind=engine))
```

## Определение URI для базы данных:
Создали строку подключения к базе данных PostgreSQL, используя информацию о имени пользователя, пароле, хосте и названии базы данных:
DATABASE_URI = 'postgresql://username:467912@hostname/SSS'
Здесь username - имя пользователя PostgreSQL, 467912 пароль, hostname - хост (обычно localhost для локальной базы данных), SSS - название базы данных.

## Создание двигателя (engine):
Создали объект двигателя с помощью функции create_engine(), передав ей строку подключения:
engine = create_engine(DATABASE_URI)
Этот двигатель представляет собой интерфейс к базе данных.

## Создание сессии (session):
Использовали sessionmaker() для создания класса сеанса (session), связанного с нашим двигателем:

Session = sessionmaker(bind=engine)
session = Session()
Этот объект сессии позволяет нам выполнять операции с базой данных, такие как добавление, изменение и извлечение данных.

## Определение структуры таблиц:
Определяем структуру каждой таблицы в базе данных, создавая классы для каждой из них и наследуя их от Base, который является экземпляром declarative_base()
После создания объекта сессии мы можем использовать его для выполнения запросов к базе данных, таких как добавление новых записей или извлечение данных.

## Создание app.route
```
@app.teardown_appcontext
def remove_session(exception=None):
    Session.remove()

Маршрут для отображения главной страницы
@app.route('/')
def index():
    return render_template('index.html')

Маршрут для отображения страницы добавления нового сотрудника
@app.route('/add_employee_page')
def add_employee_page():
```
# Страничка с сотрудниками
<img width="800" alt="Снимок экрана 2024-05-27 в 10 46 26" src="https://github.com/sshyta/CreditOrg/assets/86688897/3e77a311-a719-4b9f-9493-cddabf8bdad5">

# Страничка с клиентами
<img width="806" alt="Снимок экрана 2024-05-27 в 10 46 44" src="https://github.com/sshyta/CreditOrg/assets/86688897/029f76a9-89ef-4c89-8cb3-692a7105177b">

## Основной функционал приложения

### Главная страница:
Маршрут: /

Описание: Отображает главную страницу приложения, предоставляя начальную точку для навигации по системе.

### Страница добавления нового сотрудника:
Маршрут: /add_employee_page

Описание: Отображает форму для ввода данных нового сотрудника. Пользователь может ввести имя, фамилию, должность, зарплату, дату начала работы и ID проверки кредита.

### Добавление нового сотрудника:
Маршрут: /add (метод POST)

Описание: Обрабатывает данные формы, отправленные со страницы добавления сотрудника. Преобразует введенные данные в соответствующие форматы и сохраняет нового сотрудника в базе данных. После успешного добавления перенаправляет пользователя на главную страницу.

### Отображение списка сотрудников:
Маршрут: /view_employees

Описание: Извлекает всех сотрудников из базы данных и отображает их в виде списка на странице view_employees.html.

### Отображение списка клиентов:
Маршрут: /view_clients

Описание: Извлекает всех клиентов из базы данных и отображает их в виде списка на странице view_clients.html.

### Структура базы данных
Приложение использует SQLAlchemy для ORM (object-relational mapping), что позволяет работать с базой данных через объектно-ориентированные интерфейсы.


